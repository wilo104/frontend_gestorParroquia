<h2 class="titulo">GestiÃ³n de Ingresos</h2>

<div class="formulario">
  <select [(ngModel)]="categoria" aria-label="CategorÃ­a">
    <option *ngFor="let c of categorias" [value]="c">{{ c }}</option>
  </select>

  <input type="text" [(ngModel)]="descripcion" placeholder="DescripciÃ³n" aria-label="DescripciÃ³n" />
  <input type="number" [(ngModel)]="monto" placeholder="Monto (S/.)" aria-label="Monto" inputmode="decimal" />
  <input type="date" [(ngModel)]="fecha" aria-label="Fecha" />

  <div class="acciones">
    <button (click)="guardar()" class="btn btn-guardar">
      {{ editando ? 'ğŸ’¾ Actualizar' : 'â• Agregar' }}
    </button>

    <button *ngIf="editando" (click)="cancelarEdicion()" class="btn btn-cancelar">
      âŒ Cancelar
    </button>
  </div>
</div>

<p *ngIf="errorMsg" class="error">{{ errorMsg }}</p>

<div class="table-responsive">
  <table class="responsive-table">
    <thead>
      <tr>
        <th>CategorÃ­a</th>
        <th>DescripciÃ³n</th>
        <th>Monto</th>
        <th>Fecha</th>
        <th class="col-acciones">Acciones</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let item of ingresos">
        <td data-label="CategorÃ­a">{{ item.categoria }}</td>
        <td data-label="DescripciÃ³n">{{ item.descripcion }}</td>
        <td data-label="Monto">{{ item.monto | currency:'PEN' }}</td>
        <td data-label="Fecha">{{ item.fecha | date:'shortDate' }}</td>
        <td data-label="Acciones" class="celda-acciones">
          <button (click)="editar(item)" class="btn btn-editar">âœï¸ Editar</button>
          <button (click)="eliminar(item.id)" class="btn btn-eliminar">ğŸ—‘ï¸ Eliminar</button>
          
        </td>
      </tr>
    </tbody>
  </table>
</div>
